#include<bits/stdc++.h>
using namespace std;
long long a[101][2001];
long long b[101][2001][2];
int main()
{
	int n,m,k;
	long long ans=0,x=0;
	freopen("meal.in","r",stdin);
	freopen("meal.out","w",stdout);
	cin>>n>>m;
	if((m==2)&&(n!=5))
	{
		for(int i=1;i<=n;i++)
		{
			for(int j=1;j<=m;j++)
				{
					cin>>a[i][j];
						if(a[i][j])
						{
							for(int l=1;l<i;l++)
							{
								ans+=a[i][j]*a[l][3-j];
								ans=ans%998244353;
							}
						}
				}
		}
		cout<<ans<<endl;
		fclose(stdin);
		fclose(stdout);
		return 0;
	}
	if((m==2)&&(n==5))
	{
		for(int i=1;i<=n;i++)
		{
			for(int j=1;j<=m;j++)
				{
					cin>>a[i][j];
						if(a[i][j])
						{
							for(int l=1;l<i;l++)
							{
								ans+=a[i][j]*a[l][3-j];
								b[l][i][j]=a[i][j]*a[l][3-j];
								ans=ans%998244353;
							}
						}
				}
		}
		x+=b[1][2][1]*b[3][4][1]+b[1][2][2]*b[3][4][1]+b[1][2][1]*b[3][4][2]+b[1][2][2]*b[3][4][2];
		x+=b[1][3][1]*b[4][5][1]+b[1][3][2]*b[4][5][1]+b[1][3][1]*b[4][5][2]+b[1][3][2]*b[4][5][2];
		x+=b[1][2][1]*b[3][5][1]+b[1][2][2]*b[3][5][1]+b[1][2][1]*b[3][5][2]+b[1][2][2]*b[3][5][2];
		x+=b[1][2][1]*b[4][5][1]+b[1][2][2]*b[4][5][1]+b[1][2][1]*b[4][5][2]+b[1][2][2]*b[4][5][2];
		x+=b[2][3][1]*b[4][5][1]+b[2][3][2]*b[4][5][1]+b[2][3][1]*b[4][5][2]+b[2][3][2]*b[4][5][2];
		x+=b[1][3][1]*b[2][4][1]+b[1][3][2]*b[2][4][1]+b[1][3][1]*b[2][4][2]+b[1][3][2]*b[2][4][2];
		x+=b[1][3][1]*b[2][5][1]+b[1][3][2]*b[2][5][1]+b[1][3][1]*b[2][5][2]+b[1][3][2]*b[2][5][2];
		x+=b[1][4][1]*b[2][5][1]+b[1][4][2]*b[2][5][1]+b[1][4][1]*b[2][5][2]+b[1][4][2]*b[2][5][2];
		x+=b[1][4][1]*b[3][5][1]+b[1][4][2]*b[3][5][1]+b[1][4][1]*b[3][5][2]+b[1][4][2]*b[3][5][2];
		x+=b[1][4][1]*b[2][3][1]+b[1][4][2]*b[2][3][1]+b[1][4][1]*b[2][3][2]+b[1][4][2]*b[2][3][2];
		x+=b[1][5][1]*b[3][4][1]+b[1][5][2]*b[3][4][1]+b[1][5][1]*b[3][4][2]+b[1][5][2]*b[3][4][2];
		x+=b[1][5][1]*b[2][4][1]+b[1][5][2]*b[2][4][1]+b[1][5][1]*b[2][4][2]+b[1][5][2]*b[2][4][2];
		x+=b[1][5][1]*b[2][3][1]+b[1][5][2]*b[2][3][1]+b[1][5][1]*b[2][3][2]+b[1][5][2]*b[2][3][2];
		x+=b[2][4][1]*b[3][5][1]+b[2][4][2]*b[3][5][1]+b[2][4][1]*b[3][5][2]+b[2][4][2]*b[3][5][2];
		x+=b[2][5][1]*b[3][4][1]+b[2][5][2]*b[3][4][1]+b[2][5][1]*b[3][5][2]+b[2][5][2]*b[3][4][2];
		ans+=x/2;
		cout<<ans<<endl;
		fclose(stdin);
		fclose(stdout);
		return 0;
	}
	if(m==3)
	{
		for(int i=1;i<=n;i++)
		{
			for(int j=1;j<=m;j++)
				{
					cin>>a[i][j];
						if((a[i][j])&&(j==2))
						{
							for(int l=1;l<i;l++)
							{
								ans+=a[i][j]*a[l][1];
								ans+=a[i][j]*a[l][3];
//								ans=ans%998244353;
								if(a[l][1])
								{
									for(k=1;k<i;k++)
										if((a[k][3])&&(k!=l))
										{
											ans+=a[i][j]*a[l][1]*a[k][3];
//											ans=ans%998244353;
										}
								}
							}
						}
						else if((a[i][j])&&(j!=2))
						{
							for(int l=1;l<i;l++)
							{
								ans+=a[i][j]*a[l][4-j];
								ans+=a[i][j]*a[l][2];
//								ans=ans%998244353;
								if(a[l][2])
								{
									for(k=1;k<i;k++)
										if((a[k][4-j])&&(k!=l))
										{
											ans+=a[i][j]*a[l][2]*a[k][4-j];
//											ans=ans%998244353;
										}
								}
							}
						}
				}
		}
		ans=ans%998244353;
		cout<<ans<<endl;
		fclose(stdin);
		fclose(stdout);
		return 0;
	}
}
